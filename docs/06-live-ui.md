# Live Web UI

Live Web UI — интерфейс наблюдения за симуляцией
в реальном времени.

UI предназначен для:
- визуального контроля поведения системы
- быстрого обнаружения аномалий
- навигации по run’ам
- подготовки контекста для анализа (в т.ч. Cursor)

UI **не является** инструментом управления симуляцией.

---

## Основные принципы UI

- read‑only
- минимальная задержка
- предсказуемое поведение
- отсутствие тяжёлых вычислений
- синхронизация по frameIndex

---

## Источник данных

Live UI получает данные из:
- Live Buffer
- через WebSocket API

UI **не обращается напрямую** к ClickHouse.

---

## Основные экраны

### 1. Run List

Список run’ов:
- активные
- завершённые

Для каждого run:
- runId
- source (flight / drive)
- время начала
- статус (active / finished)

---

### 2. Live View

Отображение текущего run’а.

Содержит:
- индикатор активности
- текущий frameIndex
- текущий simTime
- список доступных series

---

### 3. Graph View

Основной экран анализа.

Особенности:
- временные ряды по frameIndex
- несколько series на одном графике
- синхронизированный hover
- масштабирование по оси X
- логарифмические шкалы (опционально)

---

## Графики

### Требования к графикам

Графики должны быть:
- быстрыми
- читаемыми
- масштабируемыми
- синхронизированными

---

### Типовые series

#### Общие
- `dt`
- `substeps`
- `frameTime`

#### Flight Engine
- `aoa`
- `lift`
- `drag`
- `cl`
- `cd`

#### Drive Engine
- `wheel.force.*`
- `slipRatio`
- `normalLoad`
- `engine.rpm`

---

### Поведение при перегрузке

- UI может пропускать кадры
- UI не блокирует ingest
- UI отображает только доступные данные

---

## Навигация

- перемотка по frameIndex
- jump к началу / концу
- синхронизация нескольких графиков

---

## Ограничения UI

Live UI:
- не выполняет агрегации
- не выполняет корреляции
- не хранит данные
- не гарантирует полноту

Для анализа используется ClickHouse.

---

## Интеграция с Cursor

UI должен:
- отображать runId
- позволять быстро скопировать runId
- показывать структуру доступных series

UI **не выполняет анализ** —
он подготавливает контекст.

---

## Связанные документы

- `docs/02-architecture.md`
- `docs/03-event-model.md`
- `docs/05-ingest-and-storage.md`
- `docs/07-cursor-workflow.md`
