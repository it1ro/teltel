# Overview

`teltel` — это локальный телеметрический сервис,
предназначенный для наблюдения и анализа симуляций
(в первую очередь Flight Engine и Drive Engine).

Система спроектирована как **observability layer**,
а не как часть движка.

---

## Ключевые сущности

### Run
Один запуск симуляции.

- создаётся при включении логирования
- имеет уникальный `runId`
- содержит все события данного запуска
- завершается явно

### Event
Атом телеметрии.

- структурированное событие
- привязано к `frameIndex` и `simTime`
- содержит payload с физическими данными
- сериализуется как одна строка NDJSON

### Series
Временной ряд, получаемый из событий.

- строится по `frameIndex`
- извлекается по пути в payload
- используется для графиков и анализа

---

## Высокоуровневая архитектура

1. Источники (движки, стенды) отправляют NDJSON события
2. HTTP ingest принимает события
3. EventBus маршрутизирует события подписчикам
4. Live Buffer обслуживает live‑UI
5. Batcher пишет данные в ClickHouse
6. UI и Cursor читают данные для анализа

---

## Основные принципы

- append‑only
- best‑effort доставка
- отсутствие глобального порядка
- минимальное влияние на производительность движков
- явное управление объёмом данных

---

## Типичный сценарий

1. Разработчик замечает странное поведение
2. Включает логирование вручную
3. Воспроизводит проблему
4. Останавливает логирование
5. Анализирует run через UI или Cursor

---

## Ограничения

- teltel не является источником истины
- часть событий может быть отброшена
- live‑данные и storage разделены
- система оптимизирована под локальную работу
